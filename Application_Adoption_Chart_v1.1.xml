<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2014-05-12 17:56:40">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<collisions/>
<commit_date/>
<deleted/>
<description>So, you've created a custom app on ServiceNow - now what?
The Application Adoption Chart provides visualization of the week-by-week adoption of your application. On a single chart, display:

1) Unique users per week (user adoption)
2) Total transactions per week (overall usage)
3) Average transactions per user per week (stickiness)

Create a new chart by navigating to "System Applications" &gt; "Create App Adoption Chart". Once created, the chart will be available in the "Custom Charts" module or can be added to a homepage by clicking "Add Content" and selecting the "Custom Charts" section.

*Requires activation of the 'Custom Charts' plug-in.</description>
<inserted/>
<name>Application Adoption Chart v1.1</name>
<origin_sys_id/>
<release_date/>
<remote_sys_id>033ab17aad64210002ad4b7b9933ccd1</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>a62d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sys_report_render_generator_223c7d3aad64210002ad4b7b9933cc68</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_report_render_generator"><sys_report_render_generator action="INSERT_OR_UPDATE"><generate>false</generate><generator display_value="Transaction Trend">213bb57aad64210002ad4b7b9933cc92</generator><renderer display_value="App Adoption Chart Template">225af17aad64210002ad4b7b9933cc04</renderer><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-11 19:44:22</sys_created_on><sys_id>223c7d3aad64210002ad4b7b9933cc68</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-11 19:44:22</sys_updated_on></sys_report_render_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>222d26cbada4210002ad4b7b9933ccc8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Transaction Trend.App Adoption Chart Template</target_name>
<type>Report Renderer</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>item_option_new_dd06d3fead64210002ad4b7b9933cc37</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Create App Adoption Chart">257353fead64210002ad4b7b9933cce0</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><global>false</global><help_tag>More information</help_tag><help_text>The system name of the table or UI page to track transactions against (ie - sc_request or kb_home). Only include a single table or UI page per chart.</help_text><include_none>false</include_none><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>true</mandatory><name>tablename</name><order>20</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Table or UI Page Name</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><reference/><reference_qual/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>true</show_help><sys_class_name>item_option_new</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:18:59</sys_created_on><sys_id>dd06d3fead64210002ad4b7b9933cc37</sys_id><sys_mod_count>1</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:20:00</sys_updated_on><table/><type>6</type><ui_page/><variable_name/><variable_set/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=dd06d3fead64210002ad4b7b9933cc37"/><sys_app_file action="INSERT_OR_UPDATE"><customer_update>true</customer_update><publish_override/><replace_on_upgrade>false</replace_on_upgrade><restore/><sys_app/><sys_code>!!2}5/</sys_code><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:18:59</sys_created_on><sys_id>4f8617fead64210002ad4b7b9933ccec</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Table or UI Page Name</sys_name><sys_parent/><sys_path>!!2}5/</sys_path><sys_policy/><sys_source_deleted>false</sys_source_deleted><sys_source_id>dd06d3fead64210002ad4b7b9933cc37</sys_source_id><sys_source_table>item_option_new</sys_source_table><sys_type/><sys_update_name>item_option_new_dd06d3fead64210002ad4b7b9933cc37</sys_update_name><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:20:00</sys_updated_on></sys_app_file></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>2a2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Table or UI Page Name</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sysauto_summary_generator_323a83bead64210002ad4b7b9933cc41</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sysauto_summary_generator"><sysauto_summary_generator action="INSERT_OR_UPDATE"><active>false</active><condition/><conditional>false</conditional><name>Transaction per User Trend</name><run_as display_value="">ben.hollifield@snc</run_as><run_as_tz/><run_dayofmonth>1</run_dayofmonth><run_dayofweek>1</run_dayofweek><run_period/><run_start>2014-05-11 19:39:56</run_start><run_time>1970-01-01 12:00:00</run_time><run_type>weekly</run_type><script><![CDATA[deleteOldSummary(current.summary.toString());

var summaryID = getTransPerUserTrend();
current.summary = summaryID;
current.setWorkflow(false);
current.update();

//Calculate number of new transactions per user per specified period (week)
function getTransPerUserTrend(){
	var id;
	var transactions = new GlideAggregate("syslog_transaction");
	transactions.addEncodedQuery("urlSTARTSWITH/+-+-tablename-+-+.do");
	transactions.addAggregate("COUNT", "sys_created_by");
	transactions.addTrend('sys_created_on', 'week');
	transactions.query();
	var transByWeek = [];
	while (transactions.next()) {
		transByWeek.push(transactions.getValue("timeref") + "," + transactions.getAggregate("COUNT","sys_created_by"));
	}
	if (transByWeek.length > 0){
		id = createSummary();
		var seq = 0;
		var baseWeek = transByWeek[0].split(",")[0];
		var currWeek = baseWeek.toString();
		var numTrans = parseInt(transByWeek[0].split(",")[1]);
		var numUsers = 1;
		var numTransByUser;
		for (var i=1; i < transByWeek.length; i++) {
			currWeek = transByWeek[i].split(",")[0];
			if (baseWeek == currWeek){
				numTrans = numTrans + parseInt(transByWeek[i].split(",")[1]);
				numUsers++;
			}
			else{
				numTransByUser = parseInt(numTrans)/parseInt(numUsers);
				createSummaryLine(id, baseWeek, numTransByUser, seq);
				baseWeek = currWeek.toString();
				numTrans = parseInt(transByWeek[i].split(",")[1]);
				numUsers = 1;
				seq++;
			}
		}
		numTransByUser = parseInt(numTrans)/parseInt(numUsers);
		createSummaryLine(id, baseWeek, numTransByUser, seq);
	}
	return id;
}

//Create parent summary record
function createSummary() {
	var s = new GlideRecord("sys_report_summary");
	s.initialize();
	s.title = "Transactions Per User Trend";
	return s.insert();
}

//Create individual summary lines
function createSummaryLine(id, week, trans, seq){
	var weekActual = convertWeek(week);
	var s = new GlideRecord("sys_report_summary_line");
	s.summary = id;
	s.sequence = seq;
	s.value = trans;
	s.name = weekActual;
	s.insert();
}

//Convert week format to what is needed for summary
function convertWeek(weekString){
	var incomingWeek = weekString.split("/");
	var outgoingWeek = pad(incomingWeek[2], 2, 0) + "-" + pad(incomingWeek[0], 2, 0) + "-" + pad(incomingWeek[1], 2, 0);
	return outgoingWeek;
}

//Pad date with zeros for appropriate length
function pad(n, width, z) {
	z = z || '0';
	n = n + '';
	return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}

//Delete old summary set when generating a new one
function deleteOldSummary(summaryID){
	var oldSummary = new GlideRecord("sys_report_summary");
	if (oldSummary.get(summaryID)) {
		oldSummary.deleteRecord();
	}
}]]]]><![CDATA[></script><summary/><sys_class_name>sysauto_summary_generator</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 01:25:11</sys_created_on><sys_id>323a83bead64210002ad4b7b9933cc41</sys_id><sys_mod_count>8</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 13:25:23</sys_updated_on><upgrade_safe>false</upgrade_safe></sysauto_summary_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>2e2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Transaction per User Trend</target_name>
<type>Scheduled Report Summary Generation</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sys_report_render_generator_a6ac43bead64210002ad4b7b9933ccbb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_report_render_generator"><sys_report_render_generator action="INSERT_OR_UPDATE"><generate>false</generate><generator display_value="Transaction per User Trend">323a83bead64210002ad4b7b9933cc41</generator><renderer display_value="App Adoption Chart Template">225af17aad64210002ad4b7b9933cc04</renderer><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 01:35:49</sys_created_on><sys_id>a6ac43bead64210002ad4b7b9933ccbb</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 01:35:49</sys_updated_on></sys_report_render_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>622d26cbada4210002ad4b7b9933ccc8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Transaction per User Trend.App Adoption Chart Template</target_name>
<type>Report Renderer</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>item_option_new_f6d5d7fead64210002ad4b7b9933cc91</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Create App Adoption Chart">257353fead64210002ad4b7b9933cce0</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>true</mandatory><name>title</name><order>10</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Chart Title</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><reference/><reference_qual/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><sys_class_name>item_option_new</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:16:18</sys_created_on><sys_id>f6d5d7fead64210002ad4b7b9933cc91</sys_id><sys_mod_count>1</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:19:22</sys_updated_on><table/><type>6</type><ui_page/><variable_name/><variable_set/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=f6d5d7fead64210002ad4b7b9933cc91"/><sys_app_file action="INSERT_OR_UPDATE"><customer_update>true</customer_update><publish_override/><replace_on_upgrade>false</replace_on_upgrade><restore/><sys_app/><sys_code>!!2}4/</sys_code><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:16:18</sys_created_on><sys_id>afe5d7fead64210002ad4b7b9933cca1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Chart Title</sys_name><sys_parent/><sys_path>!!2}4/</sys_path><sys_policy/><sys_source_deleted>false</sys_source_deleted><sys_source_id>f6d5d7fead64210002ad4b7b9933cc91</sys_source_id><sys_source_table>item_option_new</sys_source_table><sys_type/><sys_update_name>item_option_new_f6d5d7fead64210002ad4b7b9933cc91</sys_update_name><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:19:22</sys_updated_on></sys_app_file></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>6a2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Chart Title</target_name>
<type>Variable</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sysauto_summary_generator_e00eb17aad64210002ad4b7b9933ccdc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sysauto_summary_generator"><sysauto_summary_generator action="INSERT_OR_UPDATE"><active>false</active><condition/><conditional>false</conditional><name>User Trend</name><run_as display_value="">ben.hollifield@snc</run_as><run_as_tz/><run_dayofmonth>1</run_dayofmonth><run_dayofweek>1</run_dayofweek><run_period/><run_start>2014-05-11 19:39:56</run_start><run_time>1970-01-01 12:00:00</run_time><run_type>weekly</run_type><script><![CDATA[deleteOldSummary(current.summary.toString());

var summaryID = getUserTrend();
current.summary = summaryID;
current.setWorkflow(false);
current.update();

//Calculate number of new users per specified period (week)
function getUserTrend(){
	var id;
	var users = new GlideAggregate("syslog_transaction");
	users.addEncodedQuery("urlSTARTSWITH/+-+-tablename-+-+.do");
	users.addAggregate("COUNT", "sys_created_by");
	users.addTrend('sys_created_on', 'week');
	users.query();
	var usersByWeek = [];
	while (users.next()) {
		usersByWeek.push(users.getValue("timeref") + "," + users.sys_created_by);
	}
	if (usersByWeek.length > 0){
		id = createSummary();
		var seq = 0;
		var baseWeek = usersByWeek[0].split(",")[0];
		var currWeek = baseWeek.toString();
		var numUsers = 1;
		for (var i=1; i < usersByWeek.length; i++) {
			currWeek = usersByWeek[i].split(",")[0];
			if (baseWeek == currWeek)
				numUsers++;
			else{
				createSummaryLine(id, baseWeek, numUsers, seq);
				baseWeek = currWeek.toString();
				numUsers = 1;
				seq++;
			}
		}
		createSummaryLine(id, baseWeek, numUsers, seq);
	}
	return id;
}

//Create parent summary record
function createSummary() {
	var s = new GlideRecord("sys_report_summary");
	s.initialize();
	s.title = "User Trend";
	return s.insert();
}

//Create individual summary lines
function createSummaryLine(id, week, users, seq){
	var weekActual = convertWeek(week);
	var s = new GlideRecord("sys_report_summary_line");
	s.summary = id;
	s.sequence = seq;
	s.value = users;
	s.name = weekActual;
	s.insert();
}

//Convert week format to what is needed for summary
function convertWeek(weekString){
	var incomingWeek = weekString.split("/");
	var outgoingWeek = pad(incomingWeek[2], 2, 0) + "-" + pad(incomingWeek[0], 2, 0) + "-" + pad(incomingWeek[1], 2, 0);
	return outgoingWeek;
}

//Pad date with zeros for appropriate length
function pad(n, width, z) {
	z = z || '0';
	n = n + '';
	return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}

//Delete old summary set when generating a new one
function deleteOldSummary(summaryID){
	var oldSummary = new GlideRecord("sys_report_summary");
	if (oldSummary.get(summaryID)) {
		oldSummary.deleteRecord();
	}
}]]]]><![CDATA[></script><summary/><sys_class_name>sysauto_summary_generator</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-11 19:52:10</sys_created_on><sys_id>e00eb17aad64210002ad4b7b9933ccdc</sys_id><sys_mod_count>58</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 13:25:39</sys_updated_on><upgrade_safe>false</upgrade_safe></sysauto_summary_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>6e2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>User Trend</target_name>
<type>Scheduled Report Summary Generation</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sys_report_render_generator_de4e397aad64210002ad4b7b9933cce4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_report_render_generator"><sys_report_render_generator action="INSERT_OR_UPDATE"><generate>false</generate><generator display_value="User Trend">e00eb17aad64210002ad4b7b9933ccdc</generator><renderer display_value="App Adoption Chart Template">225af17aad64210002ad4b7b9933cc04</renderer><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-11 19:53:23</sys_created_on><sys_id>de4e397aad64210002ad4b7b9933cce4</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-11 19:53:23</sys_updated_on></sys_report_render_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>a22d26cbada4210002ad4b7b9933ccc8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>User Trend.App Adoption Chart Template</target_name>
<type>Report Renderer</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sc_cat_item_producer_257353fead64210002ad4b7b9933cce0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sc_cat_item_producer"><sc_cat_item_producer action="INSERT_OR_UPDATE"><active>true</active><availability>on_desktop</availability><billable>false</billable><category/><cost>0</cost><custom_cart/><delivery_plan display_value="DEFAULT">523da512c611228900811a37c97c2014</delivery_plan><delivery_plan_script/><delivery_time>1970-01-03 00:00:00</delivery_time><description><![CDATA[
<p>Create a custom chart to track the weekly adoption rate of a new app. The generated custom chart can be access under 'Custom Charts' in the left nav or added to a Homepage via 'Add Content'&gt;'Custom Charts'. Adoption is tracked via transactions on a specified table or UI page.</p>
<p>The custom chart contains data sets for:</p>
<p>1) Total application transactions per week<br />2) Total unique users per week<br />3) Average transactions per user per week<span style="font-size: 10pt;">&nbsp;</span></p>
]]]]><![CDATA[></description><entitlement_script/><group/><icon/><image/><list_price>0</list_price><location/><meta/><mobile_hide_price>false</mobile_hide_price><mobile_picture/><mobile_picture_type>use_desktop_picture</mobile_picture_type><model/><name>Create App Adoption Chart</name><no_cart>false</no_cart><no_order>false</no_order><no_order_now>false</no_order_now><no_proceed_checkout>false</no_proceed_checkout><no_quantity>false</no_quantity><no_search>false</no_search><omit_price>false</omit_price><order>0</order><ordered_item_link/><picture/><preview>JavaScript: popupOpenStandard("./com.glideapp.servicecatalog_cat_item_view.do?sysparm_id=257353fead64210002ad4b7b9933cce0&amp;sysparm_preview=true", "summary");</preview><price>0</price><recurring_frequency/><recurring_price>0</recurring_price><roles/><script><![CDATA[//Create parent chart and link up associated generators

var generator1 = '213bb57aad64210002ad4b7b9933cc92'; //Transaction Trend
var generator2 = 'e00eb17aad64210002ad4b7b9933ccdc'; //User Trend
var generator3 = '323a83bead64210002ad4b7b9933cc41'; //Transactions per User Trend
var parentID = createParentChart();
createGenerator(generator1);
createGenerator(generator2);
createGenerator(generator3);

//Redirect the user to the homepage
producer.redirect = 'sys_report_custom_chart.do?sys_id=' + parentID.toString();

//Abort creation of record - all work is already complete!
current.setAbortAction(true);

//Create parent custom chart record
function createParentChart(){
	var newID;
	var templateChart = new GlideRecord("sys_report_custom_chart");
	if (templateChart.get('225af17aad64210002ad4b7b9933cc04')) {
		var newChart = new GlideRecord("sys_report_custom_chart");
		newChart.initialize();
		newChart.name = producer.title;
		newChart.active = true;
		newChart.height = templateChart.height;
		newChart.width = templateChart.width;
		newChart.type = templateChart.type;
		newChart.render_script = templateChart.render_script;
		newID = newChart.insert();
	}
	else{
		current.setAbortAction(true);
		gs.addErrorMessage('The App Adoption Chart Template custom chart does not exist - aborting');
	}
	return newID;
}

//Create chart generators
function createGenerator(genID){
	var newGenID;
	var templateGenerator = new GlideRecord("sysauto_summary_generator");
	if (templateGenerator.get(genID)) {
		var newGen = new GlideRecord("sysauto_summary_generator");
		newGen.initialize();
		newGen.name = templateGenerator.name;
		newGen.active = true;
		newGen.run_type = templateGenerator.run_type;
		newGen.run_dayofWeek = templateGenerator.run_dayofweek;
		newGen.run_time = templateGenerator.run_time;
		newGen.script = templateGenerator.script.replace("+-+-tablename-+-+", producer.tablename);
		newGenID = newGen.insert();
		linkGenerator(newGenID, parentID);
	}
	else{
		current.setAbortAction(true);
		gs.addErrorMessage('A App Adoption Chart Template generator does not exist - aborting');
	}
}

//Link generator to parent
function linkGenerator(generatorID, rendererID){
	var linker = new GlideRecord("sys_report_render_generator");
	linker.initialize();
	linker.renderer = rendererID;
	linker.generator = generatorID;
	linker.insert();
}]]]]><![CDATA[></script><short_description>Create a chart to track adoption of an application</short_description><start_closed>false</start_closed><sys_class_name>sc_cat_item_producer</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>257353fead64210002ad4b7b9933cce0</sys_id><sys_mod_count>8</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:49:05</sys_updated_on><table_name>syslog_transaction</table_name><template/><type>item</type><vendor/><view/><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><workflow/></sc_cat_item_producer><sys_translated_text action="delete_multiple" query="documentkey=257353fead64210002ad4b7b9933cce0"/><fx_price action="delete_multiple" query="id=257353fead64210002ad4b7b9933cce0"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price</field><id>257353fead64210002ad4b7b9933cce0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>047413fead64210002ad4b7b9933cc73</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:09:47</sys_updated_on><table>sc_cat_item_producer</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>recurring_price</field><id>257353fead64210002ad4b7b9933cce0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>447413fead64210002ad4b7b9933cc73</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:09:47</sys_updated_on><table>sc_cat_item_producer</table><type>calculated</type></fx_price><fx_price action="delete_multiple" query="id=257353fead64210002ad4b7b9933cce0"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price</field><id>257353fead64210002ad4b7b9933cce0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>047413fead64210002ad4b7b9933cc73</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:09:47</sys_updated_on><table>sc_cat_item_producer</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>recurring_price</field><id>257353fead64210002ad4b7b9933cce0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>447413fead64210002ad4b7b9933cc73</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:09:47</sys_updated_on><table>sc_cat_item_producer</table><type>calculated</type></fx_price><sys_app_file action="INSERT_OR_UPDATE"><customer_update>true</customer_update><publish_override/><replace_on_upgrade>false</replace_on_upgrade><restore/><sys_app/><sys_code>!!2}2/</sys_code><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:09:47</sys_created_on><sys_id>407413fead64210002ad4b7b9933cc73</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Create App Adoption Chart</sys_name><sys_parent/><sys_path>!!2}2/</sys_path><sys_policy/><sys_source_deleted>false</sys_source_deleted><sys_source_id>257353fead64210002ad4b7b9933cce0</sys_source_id><sys_source_table>sc_cat_item_producer</sys_source_table><sys_type/><sys_update_name>sc_cat_item_producer_257353fead64210002ad4b7b9933cce0</sys_update_name><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:49:05</sys_updated_on></sys_app_file></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>aa2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table>syslog_transaction</table>
<target_name>Create App Adoption Chart</target_name>
<type>Record Producer</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sys_app_module_b4c4d3fead64210002ad4b7b9933cc44</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="System Applications">9e329333c33220001875addbdfba8f56</application><content_page/><device_type/><filter/><hint>Create chart to track application adoption rate</hint><homepage/><image>images/icons/stats.gif</image><link_type>DIRECT</link_type><map_page/><mobile_title>Create App Adoption Chart</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>130</order><query>com.glideapp.servicecatalog_cat_item_view?sysparm_id=257353fead64210002ad4b7b9933cce0</query><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:11:46</sys_created_on><sys_domain>global</sys_domain><sys_id>b4c4d3fead64210002ad4b7b9933cc44</sys_id><sys_mod_count>1</sys_mod_count><sys_overrides/><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:13:31</sys_updated_on><timeline_page/><title>Create App Adoption Chart</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module><sys_app_file action="INSERT_OR_UPDATE"><customer_update>true</customer_update><publish_override/><replace_on_upgrade>false</replace_on_upgrade><restore/><sys_app/><sys_code>!!2}3/</sys_code><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 02:11:46</sys_created_on><sys_id>59e413fead64210002ad4b7b9933cc4e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Create App Adoption Chart</sys_name><sys_parent/><sys_path>!!2}3/</sys_path><sys_policy/><sys_source_deleted>false</sys_source_deleted><sys_source_id>b4c4d3fead64210002ad4b7b9933cc44</sys_source_id><sys_source_table>sys_app_module</sys_source_table><sys_type>code</sys_type><sys_update_name>sys_app_module_b4c4d3fead64210002ad4b7b9933cc44</sys_update_name><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 02:13:31</sys_updated_on></sys_app_file></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>ae2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Create App Adoption Chart</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>catalog_script_client_406a26cbada4210002ad4b7b9933cc06</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client"><catalog_script_client action="INSERT_OR_UPDATE"><active>true</active><applies_catalog>true</applies_catalog><applies_extended>false</applies_extended><applies_req_item>false</applies_req_item><applies_sc_task>false</applies_sc_task><applies_to>item</applies_to><cat_item display_value="Create App Adoption Chart">257353fead64210002ad4b7b9933cce0</cat_item><cat_variable>IO:dd06d3fead64210002ad4b7b9933cc37</cat_variable><condition/><description/><field/><global>true</global><messages/><name>AppAdopt - Check for valid table</name><script><![CDATA[function onChange(control, oldValue, newValue, isLoading) {
	if (isLoading || newValue == '') {
		return;
	}
	var tablename = g_form.getValue('tablename');
	
	//Remove white space from tablename
	tablename = tablename.replace(/ /g, '');
	
	//Remove .do from tablename, if included
	if (tablename.indexOf('.do') > -1)
		tablename = tablename.slice(0, -3);
	
	g_form.setValue('tablename', tablename);
}]]]]><![CDATA[></script><sys_class_name>catalog_script_client</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 17:51:20</sys_created_on><sys_domain>global</sys_domain><sys_id>406a26cbada4210002ad4b7b9933cc06</sys_id><sys_mod_count>4</sys_mod_count><sys_overrides/><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 17:55:19</sys_updated_on><table/><type>onChange</type><ui_type>0</ui_type><variable_set/><view/></catalog_script_client><sys_app_file action="INSERT_OR_UPDATE"><customer_update>true</customer_update><publish_override/><replace_on_upgrade>false</replace_on_upgrade><restore/><sys_app/><sys_code>!!2}6/</sys_code><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-12 17:51:20</sys_created_on><sys_id>6cfbea8bada4210002ad4b7b9933cc53</sys_id><sys_mod_count>0</sys_mod_count><sys_name>AppAdopt - Check for valid table</sys_name><sys_parent/><sys_path>!!2}6/</sys_path><sys_policy/><sys_source_deleted>false</sys_source_deleted><sys_source_id>406a26cbada4210002ad4b7b9933cc06</sys_source_id><sys_source_table>catalog_script_client</sys_source_table><sys_type/><sys_update_name>catalog_script_client_406a26cbada4210002ad4b7b9933cc06</sys_update_name><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 17:55:19</sys_updated_on></sys_app_file></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>e62d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>AppAdopt - Check for valid table</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sysauto_summary_generator_213bb57aad64210002ad4b7b9933cc92</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sysauto_summary_generator"><sysauto_summary_generator action="INSERT_OR_UPDATE"><active>false</active><condition/><conditional>false</conditional><name>Transaction Trend</name><run_as display_value="">ben.hollifield@snc</run_as><run_as_tz/><run_dayofmonth>1</run_dayofmonth><run_dayofweek>1</run_dayofweek><run_period/><run_start>2014-05-11 19:39:56</run_start><run_time>1970-01-01 12:00:00</run_time><run_type>weekly</run_type><script><![CDATA[deleteOldSummary(current.summary.toString());

var summaryID = getTransTrend();
current.summary = summaryID;
current.setWorkflow(false);
current.update();

//Calculate number of new transactions per specified period (week)
function getTransTrend(){
	var id;
	var transactions = new GlideAggregate("syslog_transaction");
	transactions.addEncodedQuery("urlSTARTSWITH/+-+-tablename-+-+.do");
	transactions.addAggregate("COUNT", "sys_created_by");
	transactions.addTrend('sys_created_on', 'week');
	transactions.query();
	var transByWeek = [];
	while (transactions.next()) {
		transByWeek.push(transactions.getValue("timeref") + "," + transactions.getAggregate("COUNT","sys_created_by"));
	}
	if (transByWeek.length > 0){
		id = createSummary();
		var seq = 0;
		var baseWeek = transByWeek[0].split(",")[0];
		var currWeek = baseWeek.toString();
		var numTrans = parseInt(transByWeek[0].split(",")[1]);
		for (var i=1; i < transByWeek.length; i++) {
			currWeek = transByWeek[i].split(",")[0];
			if (baseWeek == currWeek)
				numTrans = numTrans + parseInt(transByWeek[i].split(",")[1]);
			else{
				createSummaryLine(id, baseWeek, numTrans, seq);
				baseWeek = currWeek.toString();
				numTrans = parseInt(transByWeek[i].split(",")[1]);
				seq++;
			}
		}
		createSummaryLine(id, baseWeek, numTrans, seq);
	}
	return id;
}

//Create parent summary record
function createSummary() {
	var s = new GlideRecord("sys_report_summary");
	s.initialize();
	s.title = "Transaction Trend";
	return s.insert();
}

//Create individual summary lines
function createSummaryLine(id, week, trans, seq){
	var weekActual = convertWeek(week);
	var s = new GlideRecord("sys_report_summary_line");
	s.summary = id;
	s.sequence = seq;
	s.value = trans;
	s.name = weekActual;
	s.insert();
}

//Convert week format to what is needed for summary
function convertWeek(weekString){
	var incomingWeek = weekString.split("/");
	var outgoingWeek = pad(incomingWeek[2], 2, 0) + "-" + pad(incomingWeek[0], 2, 0) + "-" + pad(incomingWeek[1], 2, 0);
	return outgoingWeek;
}

//Pad date with zeros for appropriate length
function pad(n, width, z) {
	z = z || '0';
	n = n + '';
	return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}

//Delete old summary set when generating a new one
function deleteOldSummary(summaryID){
	var oldSummary = new GlideRecord("sys_report_summary");
	if (oldSummary.get(summaryID)) {
		oldSummary.deleteRecord();
	}
}]]]]><![CDATA[></script><summary/><sys_class_name>sysauto_summary_generator</sys_class_name><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-11 19:44:12</sys_created_on><sys_id>213bb57aad64210002ad4b7b9933cc92</sys_id><sys_mod_count>26</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 13:25:03</sys_updated_on><upgrade_safe>false</upgrade_safe></sysauto_summary_generator></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>ea2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>Transaction Trend</target_name>
<type>Scheduled Report Summary Generation</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value=""/>
<category>customer</category>
<comments/>
<name>sys_report_custom_chart_225af17aad64210002ad4b7b9933cc04</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_report_custom_chart"><sys_report_custom_chart action="INSERT_OR_UPDATE"><active>false</active><height>450</height><name>App Adoption Chart Template (Do Not Delete)</name><other_threshold>12</other_threshold><render_script><![CDATA[// Get the sys_id values for the sys_report_summary table entries build by our generators
var userID = summary_sets.get("User Trend");
var transID = summary_sets.get("Transaction Trend");
var transPerUserID = summary_sets.get("Transaction per User Trend");

// Gets a utility class for dataset manipulation
var cu = new ChartUtil();
cu.setTable('syslog_transaction');
cu.setColors("#73A8F0,#808080");

// Get the dataset for the User count
var user = new ChartGenerator("bar");
user.setTable('syslog_transaction');
user.setSummaryID(userID);
var ds = user.getDataset();

// Get the dataset for the Total Transaction and combine with the User count
var trans = new ChartGenerator("bar");
trans.setTable('syslog_transaction');
trans.setSummaryID(transID);
ds = cu.mergeDatasets(ds, "Unique Users", trans.getDataset(), "Total Transactions");

// Get the chart for the multi series bar chart of users and total transactions
var chart = trans.getChart(ds);

// Change the spacing
trans.setNoMargins();

// Add a line renderer to the chart to show the Transactions per user
var line = new ChartGenerator("line");
line.setSummaryID(transPerUserID);
var lineDS = cu.addEmptyValues(line.getDataset(), ds);
lineDS = cu.changeDatasetLabel(lineDS, "Transactions per User");
var renderer = line.getChartGenerator().getLineRenderer(Packages.java.awt.Color.ORANGE, 3.0, false, true, true);
trans.addRenderer(renderer, lineDS, true, "");

// return our chart
answer = chart;]]]]><![CDATA[></render_script><roles/><sys_created_by>ben.hollifield@snc</sys_created_by><sys_created_on>2014-05-11 19:36:51</sys_created_on><sys_id>225af17aad64210002ad4b7b9933cc04</sys_id><sys_mod_count>14</sys_mod_count><sys_updated_by>ben.hollifield@snc</sys_updated_by><sys_updated_on>2014-05-12 13:25:48</sys_updated_on><table/><type>script</type><width>650</width><x_axis_label/><y_axis_label/></sys_report_custom_chart></record_update>]]></payload>
<remote_update_set display_value="Application Adoption Chart v1.1">a62d26cbada4210002ad4b7b9933ccc7</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>ben.hollifield@snc</sys_created_by>
<sys_created_on>2014-05-12 17:56:40</sys_created_on>
<sys_id>ee2d26cbada4210002ad4b7b9933ccc7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>ben.hollifield@snc</sys_updated_by>
<sys_updated_on>2014-05-12 17:56:40</sys_updated_on>
<table/>
<target_name>App Adoption Chart Template (Do Not Delete)</target_name>
<type>Custom Chart</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
